################################################################################
# PotatoStack Environment Configuration
# Copy this file to .env and fill in your actual values
# NEVER commit the .env file to git - it contains sensitive passwords!
################################################################################

# VPN Configuration (Gluetun with Surfshark)
# Note: These credentials are used by Gluetun to connect to Surfshark
# Get credentials from: https://my.surfshark.com/vpn/manual-setup/main
SURFSHARK_USER=your_surfshark_service_credentials_username
SURFSHARK_PASSWORD=your_surfshark_service_credentials_password
# Server selection (customize for your location)
SURFSHARK_COUNTRY=Netherlands  # Full country name for Gluetun
SURFSHARK_CITY=Amsterdam      # Full city name (optional)
SURFSHARK_CONNECTION_TYPE=openvpn  # openvpn or wireguard
# Network configuration
LAN_NETWORK=192.168.178.0/24  # Your local network subnet
VPN_DNS=1.1.1.1,1.0.0.1

# Kopia Backup
KOPIA_PASSWORD=change_this_to_a_very_strong_password
KOPIA_SERVER_USER=admin
KOPIA_SERVER_PASSWORD=change_this_to_another_strong_password

# Seafile (Lightweight file sync & share)
# NOTE: Seafile now uses PostgreSQL (consolidated from MariaDB for better resource usage)
SEAFILE_DB_PASSWORD=change_this_seafile_db_password
SEAFILE_ADMIN_EMAIL=admin@lepotato.local
SEAFILE_ADMIN_PASSWORD=change_this_seafile_admin_password

# Gitea
GITEA_DB_PASSWORD=gitea_database_password

# Grafana
GRAFANA_USER=admin
GRAFANA_PASSWORD=secure_grafana_password
GRAFANA_OIDC_SECRET=change_this_grafana_oauth_secret

# Alertmanager Email Notifications
ALERT_EMAIL_USER=your_gmail_address@gmail.com
ALERT_EMAIL_PASSWORD=your_gmail_app_password
ALERT_EMAIL_TO=your_alert_recipient@email.com

# Diun Notifications (configure in config/diun/diun.yml)
# Supports: Gotify, Telegram, Discord, Email, Webhook, and more
# See: https://crazymax.dev/diun/notif/overview/

# slskd (Soulseek Client - NOT traditional Nicotine+)
SLSKD_USER=admin
SLSKD_PASSWORD=change_this_slskd_password

# Netdata Cloud (optional - leave empty if not using)
NETDATA_CLAIM_TOKEN=
NETDATA_CLAIM_ROOMS=

# Fritz!Box Router Monitoring (optional - for AVM Fritz!Box 7530 AX DSL)
# Uses TR-064 API to monitor router metrics
# Leave FRITZ_USERNAME empty for default user
FRITZ_USERNAME=
FRITZ_PASSWORD=your_fritzbox_admin_password
FRITZ_HOSTNAME=fritz.box
FRITZ_PORT=49000
FRITZ_PROTOCOL=https
FRITZ_DEVICE_NAME=fritzbox-7530

################################################################################
# Authelia SSO Configuration
################################################################################
# Generate secrets with: openssl rand -base64 32
AUTHELIA_JWT_SECRET=change_this_jwt_secret_64_chars_min
AUTHELIA_SESSION_SECRET=change_this_session_secret_64_chars_min
AUTHELIA_STORAGE_ENCRYPTION_KEY=change_this_storage_encryption_key_64_chars_min
AUTHELIA_OIDC_HMAC_SECRET=change_this_oidc_hmac_secret_64_chars_min

# OIDC Private Key - Generate with: docker run --rm authelia/authelia:latest authelia crypto pair rsa generate
# Copy the private key here (include -----BEGIN PRIVATE KEY----- and -----END PRIVATE KEY-----)
AUTHELIA_OIDC_PRIVATE_KEY=|
  -----BEGIN PRIVATE KEY-----
  REPLACE_WITH_GENERATED_PRIVATE_KEY
  -----END PRIVATE KEY-----

# OAuth2 Client Secrets for services
PORTAINER_OIDC_SECRET=change_this_portainer_oauth_secret
GITEA_OIDC_SECRET=change_this_gitea_oauth_secret
VAULTWARDEN_OIDC_SECRET=change_this_vaultwarden_oauth_secret

################################################################################
# Vaultwarden Password Manager Configuration
################################################################################
# Generate admin token with: openssl rand -base64 32
VAULTWARDEN_ADMIN_TOKEN=change_this_to_a_secure_random_token
# Allow new user signups (set to false in production)
VAULTWARDEN_SIGNUPS_ALLOWED=false
# Allow existing users to invite others
VAULTWARDEN_INVITATIONS_ALLOWED=true
# Enable SSO via Authelia (optional - set to true after configuring)
VAULTWARDEN_SSO_ENABLED=false
# Require SSO only (no master password login)
VAULTWARDEN_SSO_ONLY=false
# Send email when new device connects
VAULTWARDEN_REQUIRE_DEVICE_EMAIL=false
# Disable 2FA remember option (more secure)
VAULTWARDEN_DISABLE_2FA_REMEMBER=false

################################################################################
# Samba (SMB) for LAN file sharing
################################################################################
SAMBA_USER=files
SAMBA_PASSWORD=changeme

# Optional: Custom domain (defaults to lepotato.local)
HOST_DOMAIN=lepotato.local

# Homepage Dashboard Widget Passwords (same as above, used by Homepage)
HOMEPAGE_VAR_QBITTORRENT_PASSWORD=adminadmin
HOMEPAGE_VAR_GRAFANA_USER=admin
HOMEPAGE_VAR_GRAFANA_PASSWORD=secure_grafana_password
HOMEPAGE_VAR_PORTAINER_KEY=get_from_portainer_settings
HOMEPAGE_VAR_NPM_USER=admin@example.com
HOMEPAGE_VAR_NPM_PASSWORD=changeme
HOMEPAGE_VAR_GITEA_TOKEN=replace_with_gitea_personal_access_token

################################################################################
# Host binding and URLs
################################################################################
# Network interface/IP to bind service ports (use LAN IP for security, not 0.0.0.0)
# This prevents services from being exposed on all network interfaces
HOST_BIND=192.168.178.40
# Address used in dashboards/links (Homepage labels)
HOST_ADDR=192.168.178.40

################################################################################
# Pinned image tags (adjust as needed; multi-arch)
################################################################################

# Core networking & P2P
GLUETUN_TAG=latest  # Universal VPN client (replaces Surfshark image)
QBITTORRENT_TAG=4.6.5
SLSKD_TAG=0.21.1

# Storage & backup
KOPIA_TAG=0.15.0
MARIADB_TAG=10.11.9

# Git
GITEA_TAG=1.21.3
POSTGRES_TAG=14-alpine

# Unified Postgres (superuser for first-time init)
POSTGRES_SUPER_PASSWORD=change_this_postgres_super_password

# Monitoring
PROMETHEUS_TAG=v2.52.0
GRAFANA_TAG=10.4.3
LOKI_TAG=2.9.4
PROMTAIL_TAG=2.9.4
ALERTMANAGER_TAG=v0.27.0
NODE_EXPORTER_TAG=v1.7.0
CADVISOR_TAG=v0.47.2
SMARTCTL_EXPORTER_TAG=v0.12.0
NETDATA_TAG=latest
BLACKBOX_EXPORTER_TAG=v0.25.0
SPEEDTEST_EXPORTER_TAG=latest
FRITZBOX_EXPORTER_TAG=latest

# Management & infra
PORTAINER_TAG=2.20.3
DIUN_TAG=latest
UPTIME_KUMA_TAG=1.23.13
DOZZLE_TAG=6.4.6
NPM_TAG=2.11.3
HOMEPAGE_TAG=latest
AUTOHEAL_TAG=latest
AUTHELIA_TAG=latest
VAULTWARDEN_TAG=latest
ALPINE_TAG=latest

# Photos
IMMICH_TAG=release
IMMICH_DB_PASSWORD=change_this_immich_db_password

################################################################################
# Monitoring retention (tune for USB 2.0 HDDs)
################################################################################
PROMETHEUS_RETENTION_DAYS=14d
LOKI_RETENTION_DAYS=14d
REDIS_TAG=7-alpine

################################################################################
# Notes: Adjust tags for your environment as needed.
################################################################################
