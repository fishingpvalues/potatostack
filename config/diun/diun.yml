# Diun - Docker Image Update Notifier
# https://crazymax.dev/diun/

# Database to track image updates
db:
  path: /data/diun.db

# Watch interval
watch:
  schedule: "0 */6 * * *"  # Every 6 hours
  workers: 10
  firstCheckNotif: false  # Don't notify on first run
  compareDigest: true  # Compare image digests for better accuracy

# Watch running containers
providers:
  docker:
    watchByDefault: true
    watchStopped: false

# Notification providers
notif:
  # Gotify (recommended for self-hosted)
  # Uncomment and configure if you have Gotify running
  # gotify:
  #   endpoint: http://gotify:80
  #   token: YOUR_APP_TOKEN
  #   priority: 5

  # Telegram
  # Uncomment and configure if you want Telegram notifications
  # telegram:
  #   token: YOUR_BOT_TOKEN
  #   chatIDs:
  #     - YOUR_CHAT_ID

  # Discord
  # Uncomment and configure if you want Discord notifications
  # discord:
  #   webhookURL: https://discord.com/api/webhooks/YOUR_WEBHOOK_URL
  #   mentions:
  #     - "@everyone"

  # Email (SMTP)
  # Uncomment and configure for email notifications
  # mail:
  #   host: smtp.gmail.com
  #   port: 587
  #   ssl: false
  #   insecureSkipVerify: false
  #   username: ${ALERT_EMAIL_USER}
  #   password: ${ALERT_EMAIL_PASSWORD}
  #   from: ${ALERT_EMAIL_USER}
  #   to: ${ALERT_EMAIL_TO}

  # Webhook (generic HTTP endpoint)
  # webhook:
  #   endpoint: http://your-webhook-endpoint
  #   method: POST
  #   headers:
  #     Content-Type: application/json
  #     Authorization: Bearer YOUR_TOKEN

# Registry options (for authentication)
# regopts:
#   - name: "docker.io"
#     username: YOUR_USERNAME
#     password: YOUR_PASSWORD
#   - name: "ghcr.io"
#     username: YOUR_GITHUB_USERNAME
#     password: YOUR_GITHUB_PAT

# Default notification template
defaults:
  notifyOn:
    - new  # New image version available
    - update  # Image digest changed
