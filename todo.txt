● Running. It's downloading at ~6 MB/s, working through all 2,802 messages (filtering for video files only).                                                                                        
                                                                                                                                                                                                    
  Monitor it with:                                                                                                                                                                                  
  - tmux attach -t tdl-download — watch live                                                                                                                                                        
  - tail -f /mnt/storage/downloads/telegram/tdl-download.log — check log                                                                                                                            
                                                                                                                                                                                                    
  When done, videos will be moved from /mnt/storage/downloads/telegram/saved-videos/ to /mnt/storage/media/adult/telegram/. 

  ● Good, crond is available. The current download is still running though, so don't recreate the container yet. When it finishes you can apply with:                                                 
                                                                                                                                                                                                    
  docker compose up -d tdl --force-recreate                                                                                                                                                         
                                                                                                                                                                                                    
  Summary of changes:                                                                                                                                                                               
  - Entrypoint now starts crond in background before tail -f                                                                                                                                        
  - New volume mounts: /mnt/storage/media/adult/telegram → /adult-telegram, plus crontab and download script                                                                                        
  - Cron: runs every Sunday at 3am, exports saved messages, downloads only video files with --skip-same (skips already downloaded), saves directly to /mnt/storage/media/adult/telegram/            
  - Log: /mnt/storage/downloads/telegram/cron.log     

  Ich habe einen Stack mit fritzbox 14TB externer hjdd 256gb externer hdd und mini pc in einem ikea korb liegen auf der fensterbank die festpolatten können entweder stehen oder einfach lose hängen und die fritzbox auch liegen oder hängen wie kann ich mir am besten ein gerüst oder rack dafür kaufen welches uach erweiterbar ist und mich in die Zukunft begleitet? vielleicht auch noch mehr hdds und gutes cooling ajktuell ist winter aber der Korb wird schon sehr warm wie kann ich auf der Fensterbank ein Rack erstellen welches diese komponenten aufnehmen können und welche auch platz für Kabelmanagement netzteil Mehrfachsteckdose und werweiterbare Scahen hat. wahrscheinlich kaufe ich noch eine externe Festplatte nach die auch im Gehäuse stehend ist
- check homeassisganz for logs and how to fix 
- check why after gluetun down slskd was down and also all other containers its not reliable the gluetun monito ris not working right

#!/bin/bash
################################################################################
# Fetch API Keys from *arr Services and Update .env
# This script helps configure exportarr services by fetching API keys
################################################################################

set -euo pipefail

ENV_FILE="/home/daniel/potatostack/.env"

# Colors
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
NC='\033[0m' # No Color

echo "Fetching API keys for exportarr services..."
echo ""

# Function to extract API key from Sonarr/Radarr/Lidarr/Prowlarr config
fetch_api_key() {
	local service=$1
	local port=$2
	local config_path=""

	case $service in
	sonarr)
		config_path="/mnt/ssd/docker-data/sonarr/config.xml"
		;;
	radarr)
		config_path="/mnt/ssd/docker-data/radarr/config.xml"
		;;
	lidarr)
		config_path="/mnt/ssd/docker-data/lidarr/config.xml"
		;;
	prowlarr)
		config_path="/mnt/ssd/docker-data/prowlarr/config.xml"
		;;
	esac

	if [ -f "$config_path" ]; then
		local api_key=$(grep -oP '(?<=<ApiKey>)[^<]+' "$config_path" 2>/dev/null || echo "")
		if [ -n "$api_key" ]; then
			echo "$api_key"
			return 0
		fi
	fi

	return 1
}

# Try to fetch each API key
updated=0

for service in sonarr radarr lidarr prowlarr; do
	var_name="${service^^}_API_KEY"
	port=""

	case $service in
	sonarr) port="8989" ;;
	radarr) port="7878" ;;
	lidarr) port="8686" ;;
	prowlarr) port="9696" ;;
	esac

	echo -n "Checking ${service}... "

	# Check if already set in .env
	if grep -q "^${var_name}=" "$ENV_FILE" 2>/dev/null && ! grep -q "^${var_name}=$" "$ENV_FILE" 2>/dev/null; then
		current_key=$(grep "^${var_name}=" "$ENV_FILE" | cut -d'=' -f2)
		if [ -n "$current_key" ]; then
			echo -e "${GREEN}✓ already set${NC}"
			continue
		fi
	fi

	# Try to fetch from config file
	api_key=$(fetch_api_key "$service" "$port" || echo "")

	if [ -n "$api_key" ]; then
		# Update .env file
		if grep -q "^${var_name}=" "$ENV_FILE"; then
			sed -i "s/^${var_name}=.*/${var_name}=${api_key}/" "$ENV_FILE"
		else
			echo "${var_name}=${api_key}" >>"$ENV_FILE"
		fi
		echo -e "${GREEN}✓ fetched and saved${NC}"
		updated=$((updated + 1))
	else
		echo -e "${YELLOW}⚠ not found - manual setup required${NC}"
		echo "  1. Open http://localhost:${port}/settings/general"
		echo "  2. Copy the API Key"
		echo "  3. Add to ${ENV_FILE}: ${var_name}=your_key_here"
	fi
done

echo ""

if [ $updated -gt 0 ]; then
	echo -e "${GREEN}✓ Updated ${updated} API key(s) in ${ENV_FILE}${NC}"
	echo ""
	echo "Restarting exportarr services..."
	docker compose restart exportarr-radarr exportarr-sonarr exportarr-lidarr exportarr-prowlarr
	echo -e "${GREEN}✓ Services restarted${NC}"
else
	echo "No API keys were updated."
	echo ""
	echo "To manually add API keys:"
	echo "  1. Sonarr: http://localhost:8989/settings/general"
	echo "  2. Radarr: http://localhost:7878/settings/general"
	echo "  3. Lidarr: http://localhost:8686/settings/general"
	echo "  4. Prowlarr: http://localhost:9696/settings/general"
	echo ""
	echo "Then add them to ${ENV_FILE} and run:"
	echo "  docker compose restart exportarr-radarr exportarr-sonarr exportarr-lidarr exportarr-prowlarr"
fi

- make sure no more incomplete dir on cachehdd use incomplete dir on storage hdd for ALL services grep for cachehdd/downloads/incomplete and update it accordingly make subdirs for the services if suitable and edit init-storage .sh as well to create and check them 