# Dozzle via bjw-s/app-template

controllers:
  main:
    replicas: 1
    containers:
      main:
        image:
          repository: amir20/dozzle
          tag: latest
        env:
          - name: TZ
            value: Europe/Berlin
          - name: DOZZLE_LEVEL
            value: info
          - name: DOZZLE_TAILSIZE
            value: "300"
          - name: DOZZLE_FILTER
            value: status=running

service:
  main:
    ports:
      http:
        port: 8080

ingress:
  main:
    enabled: true
    ingressClassName: nginx
    hosts:
      - host: logs.lepotato.local
        paths:
          - path: /
            pathType: Prefix
            service:
              name: main
              port: http
    tls:
      - secretName: dozzle-tls
        hosts: [logs.lepotato.local]

# Note: Dozzle usually tails Docker logs. In Kubernetes, you would point it to a log aggregator
# or use it for ephemeral debugging. By default, it will show current pod logs it can access.

resources:
  limits:
    cpu: 250m
    memory: 64Mi
  requests:
    cpu: 50m
    memory: 32Mi

